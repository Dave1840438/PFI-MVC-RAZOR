@model PartialViewDemo.Models.Currency


<h2>Taux de changes</h2>

<div id="currency">
    @{Html.RenderPartial("CurrencyPartial", Model);}
</div>

@section Scripts
{
    <script type="text/javascript">
        function Refresh() {
            // pour bypasser le "casching" de cette page dans le browser
            // on ajoute à l'url un paramètre qui varie tout le temps
            var d = new Date();
            $("#currency").load('@(Url.Action("ShowCurrency", "Currency"))' + '?' + d.getMilliseconds());
        }
        // Appeler la méthode Refresh toues les 5 secondes
        $(function () { setInterval(function () { Refresh(); }, 5000); });
    </script>
}